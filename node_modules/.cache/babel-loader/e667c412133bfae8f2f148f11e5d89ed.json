{"remainingRequest":"/Users/apple/Desktop/DECO3801/searchMedicineGit/node_modules/babel-loader/lib/index.js!/Users/apple/Desktop/DECO3801/searchMedicineGit/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/apple/Desktop/DECO3801/searchMedicineGit/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Desktop/DECO3801/searchMedicineGit/src/components/searchMedicine/checkoutMedicine.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Desktop/DECO3801/searchMedicineGit/src/components/searchMedicine/checkoutMedicine.vue","mtime":1634484337701},{"path":"/Users/apple/Desktop/DECO3801/searchMedicineGit/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/DECO3801/searchMedicineGit/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/apple/Desktop/DECO3801/searchMedicineGit/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/Desktop/DECO3801/searchMedicineGit/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBNZWRpY2luZVRpdGxlIGZyb20gIkAvY29tcG9uZW50cy9NZWRpY2luZVRpdGxlIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHFzIGZyb20gInFzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjaGVja291dE1lZGljaW5lIiwKICBjb21wb25lbnRzOiB7CiAgICBNZWRpY2luZVRpdGxlOiBNZWRpY2luZVRpdGxlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2FydDoge30sCiAgICAgIHByaWNlOiAiIiwKICAgICAgYWRkcmVzczoge30sCiAgICAgIHByb2R1Y3RTdWJtaXQ6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc3VibWl0OiBmdW5jdGlvbiBzdWJtaXQoKSB7CiAgICAgIHRoaXMuc3VibWl0Rm9ybSgpOwogICAgfSwKICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHRoaXMuc3VibWl0TWVkaWNpbmVPcmRlcigpOwogICAgfSwKICAgIHN1Ym1pdE1lZGljaW5lT3JkZXI6IGZ1bmN0aW9uIHN1Ym1pdE1lZGljaW5lT3JkZXIoKSB7CiAgICAgIHZhciBsaXN0ID0gdGhpcy5jYXJ0OwogICAgICB2YXIgdGVtcFN0b3JlID0ge307CiAgICAgIHZhciB0ZW1wbGlzdCA9IFtdOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdGVtcFN0b3JlLm1lZGljaW5lTmFtZSA9IGxpc3RbaV0ubWVkaWNpbmVOYW1lOwogICAgICAgIHRlbXBTdG9yZS5xdWFudGl0eSA9IGxpc3RbaV0ucXVhbnRpdHk7CiAgICAgICAgdGVtcGxpc3QucHVzaCh0ZW1wU3RvcmUpOwogICAgICAgIHRlbXBTdG9yZSA9IHt9OwogICAgICB9CgogICAgICB2YXIgc3VibWl0T3JkZXJGb3JtID0gSlNPTi5zdHJpbmdpZnkoewogICAgICAgIHN1YnRvdGFsOiB0aGlzLnByaWNlIC8gMTAwLAogICAgICAgIHNoaXBwaW5nQWRkcmVzczogdGhpcy5hZGRyZXNzLnNoaXBwaW5nQWRkcmVzcywKICAgICAgICBtZWRpY2luZXM6IHRlbXBsaXN0CiAgICAgIH0pOwogICAgICBheGlvcyh7CiAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgdXJsOiAiaHR0cDovL2RlY28ubG9nZm94Lnh5ei9zZXJ2bGV0X3Byb2plY3QvY3JlYXRlTWVkaWNpbmVPcmRlclNlcnZsZXQiLAogICAgICAgIGRhdGE6IHFzLnN0cmluZ2lmeShzdWJtaXRPcmRlckZvcm0pCiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZyhzdWJtaXRPcmRlckZvcm0pOyAvLyB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICIvY2hlY2tvdXRDb21wbGV0ZWQiIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuY2FydCA9IHRoaXMuJHN0b3JlLnN0YXRlLmNhcnQ7CiAgICB0aGlzLnByaWNlID0gdGhpcy4kc3RvcmUuc3RhdGUudG90YWxQcmljZTsKICAgIHRoaXMuYWRkcmVzcyA9IHRoaXMuJHN0b3JlLnN0YXRlLmN1c3RvbWVyQWRkcmVzcy5kYXRhLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgcmV0dXJuIGl0ZW0uZGVmYXVsdEFkZHJlc3MgPT09IHRydWU7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["checkoutMedicine.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,OAAA,aAAA,MAAA,4BAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,EAAA,MAAA,IAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,kBADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,aAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,aAAA,EAAA;AAJA,KAAA;AAMA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,WAAA,UAAA;AACA,KAHA;AAIA,IAAA,UAJA,wBAIA;AACA,WAAA,mBAAA;AAEA,KAPA;AAQA,IAAA,mBARA,iCAQA;AAEA,UAAA,IAAA,GAAA,KAAA,IAAA;AACA,UAAA,SAAA,GAAA,EAAA;AACA,UAAA,QAAA,GAAA,EAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,IAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,QAAA,SAAA,CAAA,YAAA,GAAA,IAAA,CAAA,CAAA,CAAA,CAAA,YAAA;AACA,QAAA,SAAA,CAAA,QAAA,GAAA,IAAA,CAAA,CAAA,CAAA,CAAA,QAAA;AACA,QAAA,QAAA,CAAA,IAAA,CAAA,SAAA;AACA,QAAA,SAAA,GAAA,EAAA;AACA;;AAEA,UAAA,eAAA,GAAA,IAAA,CAAA,SAAA,CAAA;AAAA,QAAA,QAAA,EAAA,KAAA,KAAA,GAAA,GAAA;AAAA,QAAA,eAAA,EAAA,KAAA,OAAA,CAAA,eAAA;AAAA,QAAA,SAAA,EAAA;AAAA,OAAA,CAAA;AAEA,MAAA,KAAA,CAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,GAAA,EAAA,mEAFA;AAIA,QAAA,IAAA,EAAA,EAAA,CAAA,SAAA,CAAA,eAAA;AAJA,OAAA,CAAA;AAMA,MAAA,OAAA,CAAA,GAAA,CAAA,eAAA,EApBA,CAqBA;AACA;AA9BA,GAbA;AA6CA,EAAA,OAAA,EAAA,mBAAA;AACA,SAAA,IAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA;AACA,SAAA,KAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,UAAA;AAEA,SAAA,OAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,eAAA,CAAA,IAAA,CAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,aAAA,IAAA,CAAA,cAAA,KAAA,IAAA;AACA,KAFA,CAAA;AAGA;AApDA,CAAA","sourcesContent":["<template>\n    <div class=\"page-container\">\n        <MedicineTitle titleText=\"Checkout\"></MedicineTitle>\n\n        <div>\n            <div class=\"shipping-address\">\n                <div class=\"location\">\n                    <i class=\"fas fa-map-marker-alt\" id=\"location-icon\"></i>\n                </div>\n                <div class=\"address-detail\">\n                    <h3>Shipping Address:</h3>\n                    {{ address.shippingAddress }}\n                </div>\n            </div>\n\n            <div class=\"order-detail\">\n                <van-card v-for=\"(result, index) in cart\" :key=\"index\"\n                :num=\"result.quantity\"\n                :price=\"result.price\"\n                :desc=\"result.medicineDescription\"\n                :title=\"result.medicineName\"\n                :thumb=\"result.imgUrl\"\n                />   \n            </div>\n        </div>\n\n        <van-submit-bar :price=\"this.price\" button-text=\"Submit Order\" currency=$ @submit=\"submit\" />\n        <button class=\"trigger\" type=\"submit\" @click=\"submitForm\"></button>\n    </div>\n</template>\n\n<script>\nimport MedicineTitle from \"@/components/MedicineTitle\";\nimport axios from \"axios\";\nimport qs from \"qs\";\n\nexport default {\n    name: \"checkoutMedicine\",\n    components: {\n    MedicineTitle,\n  },\n  data() {\n    return {\n        cart:{},\n        price: \"\",\n        address: {},\n        productSubmit: [],\n    };\n  },\n  methods: {\n    submit() {\n          this.submitForm();\n    },\n    submitForm() {\n        this.submitMedicineOrder();\n        \n    },\n    submitMedicineOrder() {\n\n        var list = this.cart;\n        var tempStore = {};\n        var templist = [];\n        for (var i = 0; i < list.length; i++) {\n            tempStore.medicineName = list[i].medicineName;\n            tempStore.quantity = list[i].quantity;\n            templist.push(tempStore);\n            tempStore = {};\n        }\n\n        let submitOrderForm = JSON.stringify({subtotal: this.price/100, shippingAddress: this.address.shippingAddress, medicines:templist});\n\n        axios({\n        method: \"post\",\n        url: \"http://deco.logfox.xyz/servlet_project/createMedicineOrderServlet\",\n\n        data: qs.stringify(submitOrderForm),\n      })\n        console.log(submitOrderForm);\n        // this.$router.push({ path: \"/checkoutCompleted\" });\n    },\n  },\n  created: function() {\n          this.cart = this.$store.state.cart;\n          this.price = this.$store.state.totalPrice;\n\n          this.address = this.$store.state.customerAddress.data.find((item) => {\n              return item.defaultAddress === true;\n          });\n  },\n}\n</script>\n\n<style scoped>\n\nbody {\n    margin: 0;\n    padding: 0;\n}\n\n.page-container {\n    width: 100vw;\n    height: 100vh;\n}\n\n.shipping-address {\n    padding: 1em;\n    border-radius: 12%;\n    width: 100%;\n    display: flex;\n}\n\n.location {\n    width: 20%;\n}\n\n#location-icon {\n    font-size: 2em;\n    margin-top: 15px;\n}\n\n.address-detail {\n    width: 80%;\n    text-align: left;\n}\n\n.order-detail {\n    overflow: scroll;\n}\n\n.trigger {\n    display: none;\n}\n</style>"],"sourceRoot":"src/components/searchMedicine"}]}